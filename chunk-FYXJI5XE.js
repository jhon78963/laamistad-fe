import{a as k,b as m,c as _,d as F,e as N,f as q,g as T,h as D,i as M,j as I,k as j,l as G,m as L}from"./chunk-TLUHVVA6.js";import{b as R}from"./chunk-7MR2XX67.js";import{a as C}from"./chunk-QTD55MGT.js";import{c as w,d as E}from"./chunk-G23FBSDY.js";import"./chunk-RYT2OFC3.js";import{Ab as S,Db as h,Ha as l,J as g,N as x,S as a,Ua as b,cb as p,db as c,ib as f,jb as e,kb as t,lb as s,rb as v,tb as y,yb as r}from"./chunk-TUAG2WWI.js";var u=class o{apiStore=a(R);router=a(w);localStorageStore=a(C);setAuthentication(i){return this.localStorageStore.set("tokenData",i),!0}register(i){return this.apiStore.post("auth/register",i).pipe(g(n=>{this.setAuthentication(n),this.router.navigateByUrl("/admin")}))}static \u0275fac=function(n){return new(n||o)};static \u0275prov=x({token:o,factory:o.\u0275fac,providedIn:"root"})};var B=()=>["/login"];function U(o,i){o&1&&(e(0,"div",15),r(1,"Error: Las contrase\xF1as no coinciden."),t())}function z(o,i){if(o&1&&(e(0,"div",15),r(1),t()),o&2){let n=y();l(),S("Error: ",n.apiError)}}var V=class o{registerStore=a(u);formBuilder=a(G);passwordMismatch=!1;apiError=null;form=this.formBuilder.group({name:["",m.required],email:["",m.required],password:["",m.required],password_confirmation:["",m.required]});register(){this.registerStore.register(this.form.value).subscribe({next:i=>{console.log(i)},error:i=>{console.log(i)}})}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=b({type:o,selectors:[["app-register"]],decls:41,vars:5,consts:[[1,"max-w-md","mx-auto","bg-white","rounded-xl","shadow-lg","p-8","my-16"],[1,"text-center"],[1,"text-2xl","font-bold","text-gray-800"],[1,"text-gray-500","mt-2"],[1,"mt-8",3,"formGroup"],[1,"space-y-4"],["for","name",1,"block","text-sm","font-medium","text-gray-700","text-left"],[1,"mt-1"],["type","text","name","name","id","name","formControlName","name","required","","placeholder","Ej: Juan P\xE9rez",1,"w-full","py-3","px-4","border","border-gray-300","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","email",1,"block","text-sm","font-medium","text-gray-700","text-left"],["type","email","name","email","id","email","formControlName","email","required","","email","","placeholder","tu@email.com",1,"w-full","py-3","px-4","border","border-gray-300","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","password",1,"block","text-sm","font-medium","text-gray-700","text-left"],["type","password","name","password","id","password","formControlName","password","required","","minlength","8","placeholder","M\xEDnimo 8 caracteres",1,"w-full","py-3","px-4","border","border-gray-300","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","password_confirmation",1,"block","text-sm","font-medium","text-gray-700","text-left"],["type","password","name","password_confirmation","id","password_confirmation","formControlName","password_confirmation","required","","placeholder","Repite la contrase\xF1a",1,"w-full","py-3","px-4","border","border-gray-300","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"text-red-600","text-sm","text-center"],[1,"w-full","flex","justify-center","py-3","px-4","border","border-transparent","rounded-lg","shadow-sm","text-lg","font-medium","text-white","bg-gray-800","hover:bg-gray-900","transition","duration-300","disabled:opacity-50","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"text-center","mt-8","text-sm","text-gray-600"],[1,"font-medium","text-blue-600","hover:text-blue-500","underline",3,"routerLink"],[1,"text-center","mt-4","text-xs","text-gray-500"],["href","#",1,"underline"]],template:function(n,d){n&1&&(e(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"Crea tu cuenta"),t(),e(4,"p",3),r(5,"Reg\xEDstrate para comenzar a gestionar tus reservas."),t()(),e(6,"form",4)(7,"div",5)(8,"div")(9,"label",6),r(10," Nombre completo "),t(),e(11,"div",7),s(12,"input",8),t()(),e(13,"div")(14,"label",9),r(15," Email "),t(),e(16,"div",7),s(17,"input",10),t()(),e(18,"div")(19,"label",11),r(20," Contrase\xF1a "),t(),e(21,"div",7),s(22,"input",12),t()(),e(23,"div")(24,"label",13),r(25," Confirma tu contrase\xF1a "),t(),e(26,"div",7),s(27,"input",14),t()(),p(28,U,2,0,"div",15),p(29,z,2,1,"div",15),e(30,"button",16),v("click",function(){return d.register()}),r(31," Crear cuenta "),t()()(),e(32,"p",17),r(33," \xBFYa tienes una cuenta? "),e(34,"a",18),r(35," Ingresa aqu\xED "),t()(),e(36,"p",19),r(37," Al continuar, aceptas nuestros "),e(38,"a",20),r(39,"T\xE9rminos de Servicio"),t(),r(40,". "),t()()),n&2&&(l(6),f("formGroup",d.form),l(22),c(d.passwordMismatch?28:-1),l(),c(d.apiError?29:-1),l(5),f("routerLink",h(4,B)))},dependencies:[j,N,k,_,F,D,I,M,L,q,T,E],encapsulation:2})};export{V as Register};
