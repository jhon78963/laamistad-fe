import{a as D,d as j,e as B,g as re}from"./chunk-VNL5IDL3.js";import{j as N}from"./chunk-MCGGE7NH.js";import{b as W,c as M,d as Y,e as q,f as ee,g as te,h as oe}from"./chunk-3ECMZKAT.js";import{a as S,b as T,c as C}from"./chunk-IKUV46AB.js";import{e as V,g as y,i as Z,k as K,l as Q}from"./chunk-X2ZNXJGB.js";import{A as G,Ab as J,Fa as n,G as A,L as $,Q as g,Sa as x,ca as U,da as X,fb as i,gb as t,hb as o,i as I,ib as c,j as z,n as H,ob as u,ub as s,w as R,yb as p}from"./chunk-UB3J4FW2.js";var ne=[{path:"",loadComponent:()=>import("./chunk-4KMMNM7L.js").then(e=>e.Home)},{path:"login",loadComponent:()=>import("./chunk-JBTTWHOE.js").then(e=>e.Login)},{path:"reservar",loadComponent:()=>import("./chunk-E5SMSQLJ.js").then(e=>e.Reservation)},{path:"profile",loadComponent:()=>import("./chunk-WCGDKTES.js").then(e=>e.Profile)},{path:"admin",loadComponent:()=>import("./chunk-6LYFLSQP.js").then(e=>e.Layout),children:[{path:"reservas",loadComponent:()=>import("./chunk-NOCR7VYH.js").then(e=>e.Reservation)},{path:"noticias",loadComponent:()=>import("./chunk-YN4UNL3E.js").then(e=>e.News)},{path:"noticias/crear",loadComponent:()=>import("./chunk-HB4INAES.js").then(e=>e.NewsForm)},{path:"noticias/editar/:id",data:{isEditMode:!0},loadComponent:()=>import("./chunk-HB4INAES.js").then(e=>e.NewsForm)},{path:"galeria",loadComponent:()=>import("./chunk-ASEAA2J5.js").then(e=>e.Gallery)},{path:"",pathMatch:"full",redirectTo:"reservas"}]},{path:"",pathMatch:"full",redirectTo:""},{path:"**",redirectTo:""}];var _=!1,v=new I,ie=(e,l)=>{let r=g(M),a=g(re),d=["login","refresh-token","forget-password","change-password"],ce=["refresh-token","logout","forget-password"],f=JSON.parse(localStorage.getItem("tokenData")||"{}"),P=e.headers.has("X-Use-Custom-Token");if(P){let k=e.headers.delete("X-Use-Custom-Token");e=e.clone({headers:k})}if(d.some(k=>e.url.includes(k)))return l(e);let pe=e.headers.has("Authorization");return!P&&!pe&&f&&f.accessToken&&(e=e.clone({setHeaders:{Authorization:`Bearer ${f.accessToken}`}})),l(e).pipe(R(k=>{let me=k.status===401,de=!ce.some(b=>e.url.includes(b)),ue=f&&f.refreshToken;if(me&&de&&ue){if(_)return v.pipe(A(b=>l(e.clone({setHeaders:{Authorization:`Bearer ${b}`}}))));{_=!0,v=new I;let b={accessToken:f.accessToken,refreshToken:f.refreshToken};return a.refreshToken(b).pipe(A(h=>(_=!1,v.next(h),v.complete(),localStorage.setItem("tokenData",JSON.stringify(h)),l(e.clone({setHeaders:{Authorization:`Bearer ${h.accessToken}`}})))),R(h=>(_=!1,v.error(h),console.error("Error refreshing token:",h),localStorage.clear(),r.navigate(["auth"]),H(()=>h))))}}return H(()=>k)}))};var F=class e{_loading=new z(!1);loading$=this._loading.asObservable();counter=0;show(){this.counter++,this.counter>0&&this._loading.next(!0)}hide(){this.counter=Math.max(0,this.counter-1),this.counter===0&&this._loading.next(!1)}reset(){this.counter=0,this._loading.next(!1)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"})};var ae=(e,l)=>{let r=g(F),a=e.headers.get("X-Skip-Loading")==="true";return a||r.show(),l(e).pipe(G(()=>{a||r.hide()}))};var se={providers:[U(),J({eventCoalescing:!0}),K(Q([ie,ae])),q(ne,oe(),te(),ee({scrollPositionRestoration:"enabled",anchorScrolling:"enabled"}))]};var m=()=>["/"],he=()=>["/reservar"],w=class e{isMobileMenuOpen=!1;faBars=N;router=g(M);constructor(){S.add(N)}scrollTo(l){let r=document.getElementById(l);r&&r.scrollIntoView({behavior:"smooth"}),this.isMobileMenuOpen&&this.closeMobileMenu()}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen}closeMobileMenu(){this.isMobileMenuOpen=!1}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=x({type:e,selectors:[["app-header"]],decls:33,vars:25,consts:[[1,"container","mx-auto","px-6","py-4","flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-green-600","flex","items-center",3,"routerLink"],["src","/images/logo.jpeg","alt","logo","width","38","height","38",1,"mr-2"],[1,"hidden","md:flex","space-x-6","items-center"],[1,"text-gray-600","hover:text-green-600","transition","duration-300",3,"routerLink"],["fragment","noticias",1,"text-gray-600","hover:text-green-600","transition","duration-300",3,"routerLink"],["fragment","galeria",1,"text-gray-600","hover:text-green-600","transition","duration-300",3,"routerLink"],["fragment","contacto",1,"text-gray-600","hover:text-green-600","transition","duration-300",3,"routerLink"],[1,"bg-green-500","text-white","px-4","py-2","rounded-full","hover:bg-green-600","transition","duration-300","shadow",3,"routerLink"],[1,"md:hidden"],["id","mobile-menu-button","aria-label","Abrir men\xFA",1,"text-gray-600","hover:text-green-600","focus:outline-none",3,"click"],[1,"text-2xl",3,"icon"],["id","mobile-menu",3,"ngClass"],[1,"block","py-2","px-6","text-sm","text-gray-600","hover:bg-green-50",3,"click","routerLink"],["fragment","noticias",1,"block","py-2","px-6","text-sm","text-gray-600","hover:bg-green-50",3,"click","routerLink"],["fragment","galeria",1,"block","py-2","px-6","text-sm","text-gray-600","hover:bg-green-50",3,"click","routerLink"],["fragment","contacto",1,"block","py-2","px-6","text-sm","text-gray-600","hover:bg-green-50",3,"click","routerLink"]],template:function(r,a){r&1&&(t(0,"nav",0)(1,"a",1),c(2,"img",2),s(3," Parque La Amistad "),o(),t(4,"div",3)(5,"a",4),s(6,"Inicio"),o(),t(7,"a",5),s(8,"Noticias"),o(),t(9,"a",4),s(10,"Reserva de Canchas"),o(),t(11,"a",6),s(12,"Galer\xEDa"),o(),t(13,"a",7),s(14,"Cont\xE1ctanos"),o(),t(15,"a",8),s(16," Iniciar Sesi\xF3n "),o()(),t(17,"div",9)(18,"button",10),u("click",function(){return a.toggleMobileMenu()}),c(19,"fa-icon",11),o()()(),t(20,"div",12)(21,"a",13),u("click",function(){return a.closeMobileMenu()}),s(22,"Inicio"),o(),t(23,"a",14),u("click",function(){return a.closeMobileMenu()}),s(24,"Noticias"),o(),t(25,"a",13),u("click",function(){return a.closeMobileMenu()}),s(26,"Reserva de Canchas"),o(),t(27,"a",15),u("click",function(){return a.closeMobileMenu()}),s(28,"Galer\xEDa"),o(),t(29,"a",16),u("click",function(){return a.closeMobileMenu()}),s(30,"Cont\xE1ctanos"),o(),t(31,"a",13),u("click",function(){return a.closeMobileMenu()}),s(32,"Iniciar Sesi\xF3n"),o()()),r&2&&(n(),i("routerLink",p(15,m)),n(4),i("routerLink",p(16,m)),n(2),i("routerLink",p(17,m)),n(2),i("routerLink",p(18,he)),n(2),i("routerLink",p(19,m)),n(2),i("routerLink",p(20,m)),n(2),i("routerLink","/login"),n(4),i("icon",a.faBars),n(),i("ngClass",a.isMobileMenuOpen?"block md:hidden bg-white":"hidden md:hidden bg-white"),n(),i("routerLink",p(21,m)),n(2),i("routerLink",p(22,m)),n(2),i("routerLink","reservar"),n(2),i("routerLink",p(23,m)),n(2),i("routerLink",p(24,m)),n(2),i("routerLink","/login"))},dependencies:[y,V,C,T,Y],encapsulation:2})};var E=class e{faFacebookF=D;faInstagram=B;faTiktok=j;constructor(){S.add(D,B,j)}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=x({type:e,selectors:[["app-footer"]],decls:15,vars:3,consts:[[1,"bg-gray-800","text-white","py-10"],[1,"container","mx-auto","px-6","text-center"],[1,"text-2xl","font-bold","text-green-400"],[1,"mt-2","mb-4"],[1,"flex","justify-center","space-x-6"],["href","#","aria-label","Facebook",1,"text-white","hover:text-green-400","transition","duration-300"],[1,"text-2xl",3,"icon"],["href","#","aria-label","Instagram",1,"text-white","hover:text-green-400","transition","duration-300"],["href","#","aria-label","Tiktok",1,"text-white","hover:text-green-400","transition","duration-300"],[1,"mt-8","text-sm","text-gray-400"]],template:function(r,a){r&1&&(t(0,"footer",0)(1,"div",1)(2,"h3",2),s(3,"Parque La Amistad"),o(),t(4,"p",3),s(5,"Un espacio para todos."),o(),t(6,"div",4)(7,"a",5),c(8,"fa-icon",6),o(),t(9,"a",7),c(10,"fa-icon",6),o(),t(11,"a",8),c(12,"fa-icon",6),o()(),t(13,"p",9),s(14," \xA9 2025 Parque La Amistad. Todos los derechos reservados. "),o()()()),r&2&&(n(8),i("icon",a.faFacebookF),n(2),i("icon",a.faInstagram),n(2),i("icon",a.faTiktok))},dependencies:[y,C,T],encapsulation:2})};var L=class e{title=X("la-amistad-app");static \u0275fac=function(r){return new(r||e)};static \u0275cmp=x({type:e,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"flex","flex-col","min-h-screen"],[1,"flex-none","sticky","top-0","z-50","bg-white","shadow-md"],[1,"flex-grow"],[1,"flex-none","bg-gray-100"]],template:function(r,a){r&1&&(t(0,"div",0)(1,"header",1),c(2,"app-header"),o(),t(3,"main",2),c(4,"router-outlet"),o(),t(5,"footer",3),c(6,"app-footer"),o()())},dependencies:[W,w,E],encapsulation:2})};Z(L,se).catch(e=>console.error(e));
