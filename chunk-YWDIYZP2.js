import{$a as F,Bb as s,Ea as d,Ra as p,V as f,W as y,X as b,Y as x,_a as k,bb as T,cb as _,da as g,db as S,fb as R,gb as D,hb as L,ib as t,jb as o,kb as E,lb as C,mb as N,ob as c,pb as m,sb as M,tb as i,ub as h,vb as w,wb as O}from"./chunk-G6Z6UT63.js";var $=(a,n)=>n.key;function A(a,n){if(a&1){let e=C();t(0,"div",28),c("click",function(){f(e);let l=m().$implicit,u=m();return y(u.selectDay(l.day))}),i(1),o()}if(a&2){let e=m().$implicit,r=m();M("calendar-day p-2 text-center cursor-pointer hover:bg-green-100 rounded-full transition-all "+(r.selectedDay()===e.day?"selected":"")),d(),w(" ",e.day," ")}}function H(a,n){a&1&&E(0,"div")}function z(a,n){if(a&1&&k(0,A,2,3,"div",17)(1,H,1,0,"div"),a&2){let e=n.$implicit;F(e.day?0:1)}}function Y(a,n){if(a&1){let e=C();t(0,"div",28),c("click",function(){let l=f(e).$implicit,u=m();return y(u.handleTimeSlotClick(l))}),i(1),o()}if(a&2){let e=n.$implicit,r=m();M(r.getTimeSlotClasses(e)),d(),w(" ",e," ")}}var v=class a{HOURLY_RATE=10;RESERVED_SLOTS=[""];ALL_TIME_SLOTS=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00"];monthNames=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];currentDate=g(new Date(2025,9,19));selectedDay=g(null);selectedSlots=g([]);selectedCourt=g("Cancha de Fulbito 1");year=s(()=>this.currentDate().getFullYear());month=s(()=>this.currentDate().getMonth());firstDayOfMonth=s(()=>new Date(this.year(),this.month(),1).getDay());daysInMonth=s(()=>new Date(this.year(),this.month()+1,0).getDate());calendarDays=s(()=>{let n=[];for(let e=0;e<this.firstDayOfMonth();e++)n.push({day:null,key:`empty-${e}`});for(let e=1;e<=this.daysInMonth();e++)n.push({day:e,key:`day-${e}`});return n});totalPrice=s(()=>this.selectedSlots().length*this.HOURLY_RATE);formattedSelectedDate=s(()=>{let n=this.selectedDay();if(!n)return"--/--/----";let e=String(this.month()+1).padStart(2,"0");return`${String(n).padStart(2,"0")}/${e}/${this.year()}`});handleMonthChange(n){this.currentDate.update(e=>new Date(e.getFullYear(),e.getMonth()+n,1)),this.selectedDay.set(null),this.selectedSlots.set([])}selectDay(n){this.selectedDay.set(n)}handleTimeSlotClick(n){this.RESERVED_SLOTS.includes(n)||this.selectedSlots.update(e=>e.includes(n)?e.filter(r=>r!==n):[...e,n])}onCourtChange(n){let e=n.target;this.selectedCourt.set(e.value)}getTimeSlotClasses(n){let e=this.RESERVED_SLOTS.includes(n),r=this.selectedSlots().includes(n),l="time-slot text-center p-2 border rounded-lg ";return e?l+="reserved bg-gray-200 text-gray-500 cursor-not-allowed":r?l+="selected":l+="available cursor-pointer",l}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=p({type:a,selectors:[["app-reservation-form"]],decls:71,vars:6,consts:[[1,"bg-white","rounded-xl","shadow-lg","p-6","md:p-8","w-full","max-w-4xl"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8"],[1,"text-xl","font-bold","text-gray-800","mb-4"],[1,"bg-white","rounded-lg"],[1,"flex","justify-between","items-center","mb-4"],["aria-label","Mes anterior",1,"p-2","rounded-full","hover:bg-gray-100",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512","fill","currentColor",1,"w-4","h-4"],["d","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"],["id","month-year",1,"font-bold","text-lg"],["aria-label","Mes siguiente",1,"p-2","rounded-full","hover:bg-gray-100",3,"click"],["d","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"],[1,"grid","grid-cols-7","gap-2","text-center","text-sm","text-gray-500","mb-2"],["id","calendar-days",1,"grid","grid-cols-7","gap-2"],[1,"mb-4"],["htmlFor","court",1,"block","text-gray-700","font-medium","mb-2"],["id","court","name","court",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-green-500",3,"change","value"],["id","time-slots-container",1,"grid","grid-cols-3","sm:grid-cols-4","gap-2","h-48","overflow-y-auto","pr-2"],[3,"class"],[1,"mt-8","pt-6","border-t"],[1,"text-xl","font-bold","text-gray-800"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","mt-4","gap-4"],["id","summary-date",1,"font-bold"],["id","summary-hours",1,"font-bold"],[1,"text-left","sm:text-right"],[1,"text-gray-600"],[1,"text-2xl","font-bold","text-green-600"],["id","summary-total"],[1,"w-full","mt-6","bg-green-500","text-white","font-bold","py-3","rounded-lg","hover:bg-green-600","transition-all","shadow-md"],[3,"click"]],template:function(e,r){e&1&&(t(0,"div",0)(1,"div",1)(2,"div")(3,"h3",2),i(4,"1. Elige una fecha"),o(),t(5,"div",3)(6,"div",4)(7,"button",5),c("click",function(){return r.handleMonthChange(-1)}),b(),t(8,"svg",6),E(9,"path",7),o()(),x(),t(10,"h3",8),i(11),o(),t(12,"button",9),c("click",function(){return r.handleMonthChange(1)}),b(),t(13,"svg",6),E(14,"path",10),o()()(),x(),t(15,"div",11)(16,"div"),i(17,"Dom"),o(),t(18,"div"),i(19,"Lun"),o(),t(20,"div"),i(21,"Mar"),o(),t(22,"div"),i(23,"Mi\xE9"),o(),t(24,"div"),i(25,"Jue"),o(),t(26,"div"),i(27,"Vie"),o(),t(28,"div"),i(29,"S\xE1b"),o()(),t(30,"div",12),_(31,z,2,1,null,null,$),o()()(),t(33,"div")(34,"h3",2),i(35,"2. Elige Cancha y Hora"),o(),t(36,"div",13)(37,"label",14),i(38,"Cancha Deportiva"),o(),t(39,"select",15),c("change",function(u){return r.onCourtChange(u)}),t(40,"option"),i(41,"Cancha de Fulbito 1"),o(),t(42,"option"),i(43,"Cancha de V\xF3ley"),o(),t(44,"option"),i(45,"Cancha Multiusos"),o()()(),t(46,"div",16),_(47,Y,2,3,"div",17,T),o()()(),t(49,"div",18)(50,"h3",19),i(51,"3. Resumen y Pago"),o(),t(52,"div",20)(53,"div")(54,"p"),i(55," Fecha: "),t(56,"span",21),i(57),o()(),t(58,"p"),i(59," Horas seleccionadas: "),t(60,"span",22),i(61),o()()(),t(62,"div",23)(63,"p",24),i(64,"Total a pagar:"),o(),t(65,"p",25),i(66," S/ "),t(67,"span",26),i(68),o()()()(),t(69,"button",27),i(70," Proceder al Pago "),o()()()),e&2&&(d(11),O(" ",r.monthNames[r.month()]," ",r.year()," "),d(20),S(r.calendarDays()),d(8),N("value",r.selectedCourt()),d(8),S(r.ALL_TIME_SLOTS),d(10),h(r.formattedSelectedDate()),d(4),h(r.selectedSlots().length),d(7),h(r.totalPrice().toFixed(2)))},styles:['@charset "UTF-8";.calendar-day.selected[_ngcontent-%COMP%]{background-color:#22c55e;color:#fff}.time-slot.available[_ngcontent-%COMP%]:hover{background-color:#dcfce7;border-color:#22c55e}.time-slot.selected[_ngcontent-%COMP%]{background-color:#22c55e;color:#fff;border-color:#16a34a}#time-slots-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}#time-slots-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}#time-slots-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:10px}#time-slots-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#aaa}'],changeDetection:0})};var I=class a{static \u0275fac=function(e){return new(e||a)};static \u0275cmp=p({type:a,selectors:[["app-reservation"]],decls:4,vars:0,consts:[[1,"max-w-4xl","mx-auto","py-4","px-4"],[1,"text-3xl","font-bold","text-gray-800","mb-6","text-center"]],template:function(e,r){e&1&&(R(0,"div",0)(1,"h2",1),i(2,"Realizar una Reserva"),D(),L(3,"app-reservation-form"),D())},dependencies:[v],encapsulation:2})};export{I as Reservation};
