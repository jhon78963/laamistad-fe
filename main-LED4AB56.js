import{a as N}from"./chunk-QRTCJPKE.js";import{b as z1,c as b,d as s1,e as m1,f as t1,g as M1,h as p1}from"./chunk-3ECMZKAT.js";import{a as k,b as y,c as q,n as J}from"./chunk-EH5CH4PX.js";import{e as i1,g,i as f1,j as r1,k as o1,l as n1}from"./chunk-X2ZNXJGB.js";import{$a as O,A as c1,Ab as e1,Fa as o,G as I,I as _,L as x,Q as z,Sa as L,V as H,W,ab as U,ca as l1,da as a1,fb as r,gb as f,hb as e,i as D,ib as m,j as Z,mb as j,n as B,ob as M,qb as V,ub as n,w as E,yb as t}from"./chunk-UB3J4FW2.js";var b1=()=>{let c=z(b),l=z(N).get("tokenData");return l&&l.accessToken?!0:c.createUrlTree(["auth/login"])};var v1=[{path:"",loadComponent:()=>import("./chunk-MMXXQQ65.js").then(c=>c.Home)},{path:"reservar",loadComponent:()=>import("./chunk-CUAMJ2YM.js").then(c=>c.Reservation)},{path:"admin",canActivate:[b1],loadComponent:()=>import("./chunk-WLO6GTRM.js").then(c=>c.Layout),children:[{path:"reservas",loadComponent:()=>import("./chunk-NOCR7VYH.js").then(c=>c.Reservation)},{path:"noticias",loadComponent:()=>import("./chunk-W3ZB6N7J.js").then(c=>c.News)},{path:"noticias/crear",loadComponent:()=>import("./chunk-HB4INAES.js").then(c=>c.NewsForm)},{path:"noticias/editar/:id",data:{isEditMode:!0},loadComponent:()=>import("./chunk-HB4INAES.js").then(c=>c.NewsForm)},{path:"galeria",loadComponent:()=>import("./chunk-KGOJJF7V.js").then(c=>c.Gallery)},{path:"profile",loadComponent:()=>import("./chunk-WCGDKTES.js").then(c=>c.Profile)},{path:"",pathMatch:"full",redirectTo:"reservas"}]},{path:"",pathMatch:"full",redirectTo:""},{path:"**",redirectTo:""}];var Y={production:!0,BASE_URL:"https://api-la-amistad.zerogroups.net.pe/api/v1",googleClientId:"700101678163-agehot134m5dttcrmunaflq2sqtgbssb.apps.googleusercontent.com"};var d1=Y.BASE_URL,W1=Y.googleClientId;var w=class c{BASE_URL=d1;http=z(r1);get(a,l){return this.http.get(`${this.BASE_URL}/${a}`,{headers:l})}post(a,l,i){return this.http.post(`${this.BASE_URL}/${a}`,l,{headers:i})}put(a,l,i){return this.http.put(`${this.BASE_URL}/${a}`,l,{headers:i})}patch(a,l,i){return this.http.patch(`${this.BASE_URL}/${a}`,l,{headers:i})}delete(a,l){return this.http.delete(`${this.BASE_URL}/${a}`,{headers:l})}static \u0275fac=function(l){return new(l||c)};static \u0275prov=x({token:c,factory:c.\u0275fac,providedIn:"root"})};var A=class c{apiStore=z(w);router=z(b);localStorageStore=z(N);setAuthentication(a){return this.localStorageStore.set("tokenData",a),!0}login(a){return this.apiStore.post("auth/login",a).pipe(_(l=>{this.setAuthentication(l),this.router.navigateByUrl("/admin")}))}googleLogin(a){return this.apiStore.post("auth/google",{token:a}).pipe(_(l=>{this.setAuthentication(l),this.router.navigateByUrl("/admin")}))}refreshToken(a){return this.apiStore.post("auth/refresh-token",a)}static \u0275fac=function(l){return new(l||c)};static \u0275prov=x({token:c,factory:c.\u0275fac,providedIn:"root"})};var T=!1,h=new D,u1=(c,a)=>{let l=z(b),i=z(A),s=["login","refresh-token","forget-password","change-password"],C1=["refresh-token","logout","forget-password"],v=JSON.parse(localStorage.getItem("tokenData")||"{}"),Q=c.headers.has("X-Use-Custom-Token");if(Q){let u=c.headers.delete("X-Use-Custom-Token");c=c.clone({headers:u})}if(s.some(u=>c.url.includes(u)))return a(c);let S1=c.headers.has("Authorization");return!Q&&!S1&&v&&v.accessToken&&(c=c.clone({setHeaders:{Authorization:`Bearer ${v.accessToken}`}})),a(c).pipe(E(u=>{let h1=u.status===401,g1=!C1.some(C=>c.url.includes(C)),k1=v&&v.refreshToken;if(h1&&g1&&k1){if(T)return h.pipe(I(C=>a(c.clone({setHeaders:{Authorization:`Bearer ${C}`}}))));{T=!0,h=new D;let C={accessToken:v.accessToken,refreshToken:v.refreshToken};return i.refreshToken(C).pipe(I(d=>(T=!1,h.next(d),h.complete(),localStorage.setItem("tokenData",JSON.stringify(d)),a(c.clone({setHeaders:{Authorization:`Bearer ${d.accessToken}`}})))),E(d=>(T=!1,h.error(d),console.error("Error refreshing token:",d),localStorage.clear(),l.navigate(["auth"]),B(()=>d))))}}return B(()=>u)}))};var F=class c{_loading=new Z(!1);loading$=this._loading.asObservable();counter=0;show(){this.counter++,this.counter>0&&this._loading.next(!0)}hide(){this.counter=Math.max(0,this.counter-1),this.counter===0&&this._loading.next(!1)}reset(){this.counter=0,this._loading.next(!1)}static \u0275fac=function(l){return new(l||c)};static \u0275prov=x({token:c,factory:c.\u0275fac,providedIn:"root"})};var x1=(c,a)=>{let l=z(F),i=c.headers.get("X-Skip-Loading")==="true";return i||l.show(),a(c).pipe(c1(()=>{i||l.hide()}))};var L1={providers:[l1(),e1({eventCoalescing:!0}),o1(n1([u1,x1])),m1(v1,p1(),M1(),t1({scrollPositionRestoration:"enabled",anchorScrolling:"enabled"}))]};var p=()=>["/"],q1=()=>["/reservar"];function w1(c,a){c&1&&(f(0,"a",8),n(1," Admin "),e()),c&2&&r("routerLink","/admin")}function A1(c,a){c&1&&(f(0,"a",8),n(1," Iniciar Sesi\xF3n "),e()),c&2&&r("routerLink","/")}function T1(c,a){if(c&1){let l=j();f(0,"a",13),M("click",function(){H(l);let s=V();return W(s.closeMobileMenu())}),n(1,"Admin"),e()}c&2&&r("routerLink","/admin")}function F1(c,a){if(c&1){let l=j();f(0,"a",13),M("click",function(){H(l);let s=V();return W(s.closeMobileMenu())}),n(1,"Iniciar Sesi\xF3n"),e()}c&2&&r("routerLink","/")}var P=class c{isMobileMenuOpen=!1;faBars=J;router=z(b);localStorageStore=z(N);isLogin=!1;constructor(){k.add(J)}ngOnInit(){this.localStorageStore.watch("tokenData").subscribe(a=>{this.isLogin=!!(a&&a.accessToken)})}scrollTo(a){let l=document.getElementById(a);l&&l.scrollIntoView({behavior:"smooth"}),this.isMobileMenuOpen&&this.closeMobileMenu()}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen}closeMobileMenu(){this.isMobileMenuOpen=!1}static \u0275fac=function(l){return new(l||c)};static \u0275cmp=L({type:c,selectors:[["app-header"]],decls:33,vars:25,consts:[[1,"container","mx-auto","px-6","py-4","flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-green-600","flex","items-center",3,"routerLink"],["src","/images/logo.jpeg","alt","logo","width","38","height","38",1,"mr-2"],[1,"hidden","md:flex","space-x-6","items-center"],[1,"text-gray-600","hover:text-green-600","transition","duration-300",3,"routerLink"],["fragment","noticias",1,"text-gray-600","hover:text-green-600","transition","duration-300",3,"routerLink"],["fragment","galeria",1,"text-gray-600","hover:text-green-600","transition","duration-300",3,"routerLink"],["fragment","contacto",1,"text-gray-600","hover:text-green-600","transition","duration-300",3,"routerLink"],[1,"bg-green-500","text-white","px-4","py-2","rounded-full","hover:bg-green-600","transition","duration-300","shadow",3,"routerLink"],[1,"md:hidden"],["id","mobile-menu-button","aria-label","Abrir men\xFA",1,"text-gray-600","hover:text-green-600","focus:outline-none",3,"click"],[1,"text-2xl",3,"icon"],["id","mobile-menu",3,"ngClass"],[1,"block","py-2","px-6","text-sm","text-gray-600","hover:bg-green-50",3,"click","routerLink"],["fragment","noticias",1,"block","py-2","px-6","text-sm","text-gray-600","hover:bg-green-50",3,"click","routerLink"],["fragment","galeria",1,"block","py-2","px-6","text-sm","text-gray-600","hover:bg-green-50",3,"click","routerLink"],["fragment","contacto",1,"block","py-2","px-6","text-sm","text-gray-600","hover:bg-green-50",3,"click","routerLink"],[1,"block","py-2","px-6","text-sm","text-gray-600","hover:bg-green-50",3,"routerLink"]],template:function(l,i){l&1&&(f(0,"nav",0)(1,"a",1),m(2,"img",2),n(3," Parque La Amistad "),e(),f(4,"div",3)(5,"a",4),n(6,"Inicio"),e(),f(7,"a",5),n(8,"Noticias"),e(),f(9,"a",4),n(10,"Reserva de Canchas"),e(),f(11,"a",6),n(12,"Galer\xEDa"),e(),f(13,"a",7),n(14,"Cont\xE1ctanos"),e(),O(15,w1,2,1,"a",8)(16,A1,2,1,"a",8),e(),f(17,"div",9)(18,"button",10),M("click",function(){return i.toggleMobileMenu()}),m(19,"fa-icon",11),e()()(),f(20,"div",12)(21,"a",13),M("click",function(){return i.closeMobileMenu()}),n(22,"Inicio"),e(),f(23,"a",14),M("click",function(){return i.closeMobileMenu()}),n(24,"Noticias"),e(),f(25,"a",13),M("click",function(){return i.closeMobileMenu()}),n(26,"Reserva de Canchas"),e(),f(27,"a",15),M("click",function(){return i.closeMobileMenu()}),n(28,"Galer\xEDa"),e(),f(29,"a",16),M("click",function(){return i.closeMobileMenu()}),n(30,"Cont\xE1ctanos"),e(),O(31,T1,2,1,"a",17)(32,F1,2,1,"a",17),e()),l&2&&(o(),r("routerLink",t(15,p)),o(4),r("routerLink",t(16,p)),o(2),r("routerLink",t(17,p)),o(2),r("routerLink",t(18,q1)),o(2),r("routerLink",t(19,p)),o(2),r("routerLink",t(20,p)),o(2),U(i.isLogin?15:16),o(4),r("icon",i.faBars),o(),r("ngClass",i.isMobileMenuOpen?"block md:hidden bg-white":"hidden md:hidden bg-white"),o(),r("routerLink",t(21,p)),o(2),r("routerLink",t(22,p)),o(2),r("routerLink","reservar"),o(2),r("routerLink",t(23,p)),o(2),r("routerLink",t(24,p)),o(2),U(i.isLogin?31:32))},dependencies:[g,i1,q,y,s1],encapsulation:2})};var K={prefix:"fab",iconName:"facebook-f",icon:[320,512,[],"f39e","M80 299.3l0 212.7 116 0 0-212.7 86.5 0 18-97.8-104.5 0 0-34.6c0-51.7 20.3-71.5 72.7-71.5 16.3 0 29.4 .4 37 1.2l0-88.7C291.4 4 256.4 0 236.2 0 129.3 0 80 50.5 80 159.4l0 42.1-66 0 0 97.8 66 0z"]};var X={prefix:"fab",iconName:"tiktok",icon:[448,512,[],"e07b","M448.5 209.9c-44 .1-87-13.6-122.8-39.2l0 178.7c0 33.1-10.1 65.4-29 92.6s-45.6 48-76.6 59.6-64.8 13.5-96.9 5.3-60.9-25.9-82.7-50.8-35.3-56-39-88.9 2.9-66.1 18.6-95.2 40-52.7 69.6-67.7 62.9-20.5 95.7-16l0 89.9c-15-4.7-31.1-4.6-46 .4s-27.9 14.6-37 27.3-14 28.1-13.9 43.9 5.2 31 14.5 43.7 22.4 22.1 37.4 26.9 31.1 4.8 46-.1 28-14.4 37.2-27.1 14.2-28.1 14.2-43.8l0-349.4 88 0c-.1 7.4 .6 14.9 1.9 22.2 3.1 16.3 9.4 31.9 18.7 45.7s21.3 25.6 35.2 34.6c19.9 13.1 43.2 20.1 67 20.1l0 87.4z"]};var $={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.3 141a115 115 0 1 0 -.6 230 115 115 0 1 0 .6-230zm-.6 40.4a74.6 74.6 0 1 1 .6 149.2 74.6 74.6 0 1 1 -.6-149.2zm93.4-45.1a26.8 26.8 0 1 1 53.6 0 26.8 26.8 0 1 1 -53.6 0zm129.7 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM399 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]};var R=class c{faFacebookF=K;faInstagram=$;faTiktok=X;constructor(){k.add(K,$,X)}static \u0275fac=function(l){return new(l||c)};static \u0275cmp=L({type:c,selectors:[["app-footer"]],decls:15,vars:3,consts:[[1,"bg-gray-800","text-white","py-10"],[1,"container","mx-auto","px-6","text-center"],[1,"text-2xl","font-bold","text-green-400"],[1,"mt-2","mb-4"],[1,"flex","justify-center","space-x-6"],["href","#","aria-label","Facebook",1,"text-white","hover:text-green-400","transition","duration-300"],[1,"text-2xl",3,"icon"],["href","#","aria-label","Instagram",1,"text-white","hover:text-green-400","transition","duration-300"],["href","#","aria-label","Tiktok",1,"text-white","hover:text-green-400","transition","duration-300"],[1,"mt-8","text-sm","text-gray-400"]],template:function(l,i){l&1&&(f(0,"footer",0)(1,"div",1)(2,"h3",2),n(3,"Parque La Amistad"),e(),f(4,"p",3),n(5,"Un espacio para todos."),e(),f(6,"div",4)(7,"a",5),m(8,"fa-icon",6),e(),f(9,"a",7),m(10,"fa-icon",6),e(),f(11,"a",8),m(12,"fa-icon",6),e()(),f(13,"p",9),n(14," \xA9 2025 Parque La Amistad. Todos los derechos reservados. "),e()()()),l&2&&(o(8),r("icon",i.faFacebookF),o(2),r("icon",i.faInstagram),o(2),r("icon",i.faTiktok))},dependencies:[g,q,y],encapsulation:2})};var G=class c{title=a1("la-amistad-app");static \u0275fac=function(l){return new(l||c)};static \u0275cmp=L({type:c,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"flex","flex-col","min-h-screen"],[1,"flex-none","sticky","top-0","z-50","bg-white","shadow-md"],[1,"flex-grow"],[1,"flex-none","bg-gray-100"]],template:function(l,i){l&1&&(f(0,"div",0)(1,"header",1),m(2,"app-header"),e(),f(3,"main",2),m(4,"router-outlet"),e(),f(5,"footer",3),m(6,"app-footer"),e()())},dependencies:[z1,P,R],encapsulation:2})};f1(G,L1).catch(c=>console.error(c));
