import{a as G,c as U,d as $,e as pe}from"./chunk-SB5CWCWN.js";import"./chunk-7MR2XX67.js";import{a as C}from"./chunk-QTD55MGT.js";import{k as V}from"./chunk-THA7XWUE.js";import{a as S,b as M,c as T}from"./chunk-RYY6YJOR.js";import{b as ie,c as b,d as re,e as ae,f as se,g as le,h as ce}from"./chunk-G23FBSDY.js";import{f as ee,h as _,j as te,l as oe,m as ne}from"./chunk-RYT2OFC3.js";import{B as K,Db as d,Fb as q,H as D,Ha as s,N as Q,S as p,Ua as x,X as N,Y as j,cb as O,db as B,ea as W,fa as Y,i as H,ib as a,j as Z,jb as n,kb as o,lb as m,n as A,pb as P,rb as u,tb as z,x as R,yb as l}from"./chunk-TUAG2WWI.js";var me=()=>{let e=p(b),t=p(C).get("tokenData");return t&&t.accessToken?!0:e.createUrlTree(["auth/login"])};var de=[{path:"",loadComponent:()=>import("./chunk-OBUQKM3N.js").then(e=>e.Home)},{path:"login",loadComponent:()=>import("./chunk-ELFHXCYJ.js").then(e=>e.Login)},{path:"registro",loadComponent:()=>import("./chunk-FYXJI5XE.js").then(e=>e.Register)},{path:"reservar",loadComponent:()=>import("./chunk-4XJBB6VG.js").then(e=>e.Reservation)},{path:"admin",canActivate:[me],loadComponent:()=>import("./chunk-RMXAEXHZ.js").then(e=>e.Layout),children:[{path:"reservas",loadComponent:()=>import("./chunk-MXNCE5YE.js").then(e=>e.Reservation)},{path:"noticias",loadComponent:()=>import("./chunk-UWGMNMDU.js").then(e=>e.News)},{path:"noticias/crear",loadComponent:()=>import("./chunk-MVQK23FG.js").then(e=>e.NewsForm)},{path:"noticias/editar/:id",data:{isEditMode:!0},loadComponent:()=>import("./chunk-MVQK23FG.js").then(e=>e.NewsForm)},{path:"galeria",loadComponent:()=>import("./chunk-WGNFXK7O.js").then(e=>e.Gallery)},{path:"profile",loadComponent:()=>import("./chunk-SXDON6HM.js").then(e=>e.Profile)},{path:"",pathMatch:"full",redirectTo:"reservas"}]},{path:"",pathMatch:"full",redirectTo:""},{path:"**",redirectTo:""}];var w=!1,y=new H,ue=(e,i)=>{let t=p(b),r=p(pe),c=["login","refresh-token","forget-password","change-password"],ke=["refresh-token","logout","forget-password"],h=JSON.parse(localStorage.getItem("tokenData")||"{}"),J=e.headers.has("X-Use-Custom-Token");if(J){let k=e.headers.delete("X-Use-Custom-Token");e=e.clone({headers:k})}if(c.some(k=>e.url.includes(k)))return i(e);let xe=e.headers.has("Authorization");return!J&&!xe&&h&&h.accessToken&&(e=e.clone({setHeaders:{Authorization:`Bearer ${h.accessToken}`}})),i(e).pipe(R(k=>{let be=k.status===401,ve=!ke.some(v=>e.url.includes(v)),ye=h&&h.refreshToken;if(be&&ve&&ye){if(w)return y.pipe(D(v=>i(e.clone({setHeaders:{Authorization:`Bearer ${v}`}}))));{w=!0,y=new H;let v={accessToken:h.accessToken,refreshToken:h.refreshToken};return r.refreshToken(v).pipe(D(g=>(w=!1,y.next(g),y.complete(),localStorage.setItem("tokenData",JSON.stringify(g)),i(e.clone({setHeaders:{Authorization:`Bearer ${g.accessToken}`}})))),R(g=>(w=!1,y.error(g),console.error("Error refreshing token:",g),localStorage.clear(),t.navigate(["auth"]),A(()=>g))))}}return A(()=>k)}))};var L=class e{_loading=new Z(!1);loading$=this._loading.asObservable();counter=0;show(){this.counter++,this.counter>0&&this._loading.next(!0)}hide(){this.counter=Math.max(0,this.counter-1),this.counter===0&&this._loading.next(!1)}reset(){this.counter=0,this._loading.next(!1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})};var fe=(e,i)=>{let t=p(L),r=e.headers.get("X-Skip-Loading")==="true";return r||t.show(),i(e).pipe(K(()=>{r||t.hide()}))};var he={providers:[W(),q({eventCoalescing:!0}),oe(ne([ue,fe])),ae(de,ce(),le(),se({scrollPositionRestoration:"enabled",anchorScrolling:"enabled"}))]};var f=()=>["/"],Ce=()=>["/reservar"];function Se(e,i){e&1&&(n(0,"a",8),l(1," Admin "),o()),e&2&&a("routerLink","/admin")}function Me(e,i){e&1&&(n(0,"a",8),l(1," Iniciar Sesi\xF3n "),o()),e&2&&a("routerLink","/login")}function Te(e,i){if(e&1){let t=P();n(0,"a",13),u("click",function(){N(t);let c=z();return j(c.closeMobileMenu())}),l(1,"Admin"),o()}e&2&&a("routerLink","/admin")}function we(e,i){if(e&1){let t=P();n(0,"a",13),u("click",function(){N(t);let c=z();return j(c.closeMobileMenu())}),l(1,"Iniciar Sesi\xF3n"),o()}e&2&&a("routerLink","/login")}var E=class e{isMobileMenuOpen=!1;faBars=V;router=p(b);localStorageStore=p(C);isLogin=!1;constructor(){S.add(V)}ngOnInit(){this.localStorageStore.watch("tokenData").subscribe(i=>{this.isLogin=!!(i&&i.accessToken)})}scrollTo(i){let t=document.getElementById(i);t&&t.scrollIntoView({behavior:"smooth"}),this.isMobileMenuOpen&&this.closeMobileMenu()}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen}closeMobileMenu(){this.isMobileMenuOpen=!1}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=x({type:e,selectors:[["app-header"]],decls:33,vars:25,consts:[[1,"container","mx-auto","px-6","py-4","flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-green-600","flex","items-center",3,"routerLink"],["src","/images/logo.jpeg","alt","logo","width","38","height","38",1,"mr-2"],[1,"hidden","md:flex","space-x-6","items-center"],[1,"text-gray-600","hover:text-green-600","transition","duration-300",3,"routerLink"],["fragment","noticias",1,"text-gray-600","hover:text-green-600","transition","duration-300",3,"routerLink"],["fragment","galeria",1,"text-gray-600","hover:text-green-600","transition","duration-300",3,"routerLink"],["fragment","contacto",1,"text-gray-600","hover:text-green-600","transition","duration-300",3,"routerLink"],[1,"bg-green-500","text-white","px-4","py-2","rounded-full","hover:bg-green-600","transition","duration-300","shadow",3,"routerLink"],[1,"md:hidden"],["id","mobile-menu-button","aria-label","Abrir men\xFA",1,"text-gray-600","hover:text-green-600","focus:outline-none",3,"click"],[1,"text-2xl",3,"icon"],["id","mobile-menu",3,"ngClass"],[1,"block","py-2","px-6","text-sm","text-gray-600","hover:bg-green-50",3,"click","routerLink"],["fragment","noticias",1,"block","py-2","px-6","text-sm","text-gray-600","hover:bg-green-50",3,"click","routerLink"],["fragment","galeria",1,"block","py-2","px-6","text-sm","text-gray-600","hover:bg-green-50",3,"click","routerLink"],["fragment","contacto",1,"block","py-2","px-6","text-sm","text-gray-600","hover:bg-green-50",3,"click","routerLink"],[1,"block","py-2","px-6","text-sm","text-gray-600","hover:bg-green-50",3,"routerLink"]],template:function(t,r){t&1&&(n(0,"nav",0)(1,"a",1),m(2,"img",2),l(3," Parque La Amistad "),o(),n(4,"div",3)(5,"a",4),l(6,"Inicio"),o(),n(7,"a",5),l(8,"Noticias"),o(),n(9,"a",4),l(10,"Reserva de Canchas"),o(),n(11,"a",6),l(12,"Galer\xEDa"),o(),n(13,"a",7),l(14,"Cont\xE1ctanos"),o(),O(15,Se,2,1,"a",8)(16,Me,2,1,"a",8),o(),n(17,"div",9)(18,"button",10),u("click",function(){return r.toggleMobileMenu()}),m(19,"fa-icon",11),o()()(),n(20,"div",12)(21,"a",13),u("click",function(){return r.closeMobileMenu()}),l(22,"Inicio"),o(),n(23,"a",14),u("click",function(){return r.closeMobileMenu()}),l(24,"Noticias"),o(),n(25,"a",13),u("click",function(){return r.closeMobileMenu()}),l(26,"Reserva de Canchas"),o(),n(27,"a",15),u("click",function(){return r.closeMobileMenu()}),l(28,"Galer\xEDa"),o(),n(29,"a",16),u("click",function(){return r.closeMobileMenu()}),l(30,"Cont\xE1ctanos"),o(),O(31,Te,2,1,"a",17)(32,we,2,1,"a",17),o()),t&2&&(s(),a("routerLink",d(15,f)),s(4),a("routerLink",d(16,f)),s(2),a("routerLink",d(17,f)),s(2),a("routerLink",d(18,Ce)),s(2),a("routerLink",d(19,f)),s(2),a("routerLink",d(20,f)),s(2),B(r.isLogin?15:16),s(4),a("icon",r.faBars),s(),a("ngClass",r.isMobileMenuOpen?"block md:hidden bg-white":"hidden md:hidden bg-white"),s(),a("routerLink",d(21,f)),s(2),a("routerLink",d(22,f)),s(2),a("routerLink","reservar"),s(2),a("routerLink",d(23,f)),s(2),a("routerLink",d(24,f)),s(2),B(r.isLogin?31:32))},dependencies:[_,ee,T,M,re],encapsulation:2})};var F=class e{faFacebookF=G;faInstagram=$;faTiktok=U;constructor(){S.add(G,$,U)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=x({type:e,selectors:[["app-footer"]],decls:15,vars:3,consts:[[1,"bg-gray-800","text-white","py-10"],[1,"container","mx-auto","px-6","text-center"],[1,"text-2xl","font-bold","text-green-400"],[1,"mt-2","mb-4"],[1,"flex","justify-center","space-x-6"],["href","#","aria-label","Facebook",1,"text-white","hover:text-green-400","transition","duration-300"],[1,"text-2xl",3,"icon"],["href","#","aria-label","Instagram",1,"text-white","hover:text-green-400","transition","duration-300"],["href","#","aria-label","Tiktok",1,"text-white","hover:text-green-400","transition","duration-300"],[1,"mt-8","text-sm","text-gray-400"]],template:function(t,r){t&1&&(n(0,"footer",0)(1,"div",1)(2,"h3",2),l(3,"Parque La Amistad"),o(),n(4,"p",3),l(5,"Un espacio para todos."),o(),n(6,"div",4)(7,"a",5),m(8,"fa-icon",6),o(),n(9,"a",7),m(10,"fa-icon",6),o(),n(11,"a",8),m(12,"fa-icon",6),o()(),n(13,"p",9),l(14," \xA9 2025 Parque La Amistad. Todos los derechos reservados. "),o()()()),t&2&&(s(8),a("icon",r.faFacebookF),s(2),a("icon",r.faInstagram),s(2),a("icon",r.faTiktok))},dependencies:[_,T,M],encapsulation:2})};var I=class e{title=Y("la-amistad-app");static \u0275fac=function(t){return new(t||e)};static \u0275cmp=x({type:e,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"flex","flex-col","min-h-screen"],[1,"flex-none","sticky","top-0","z-50","bg-white","shadow-md"],[1,"flex-grow"],[1,"flex-none","bg-gray-100"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"header",1),m(2,"app-header"),o(),n(3,"main",2),m(4,"router-outlet"),o(),n(5,"footer",3),m(6,"app-footer"),o()())},dependencies:[ie,E,F],encapsulation:2})};te(I,he).catch(e=>console.error(e));
